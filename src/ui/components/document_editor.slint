import {
    LineEdit,
    TextEdit,
    ScrollView,
    VerticalBox,
    HorizontalBox,
} from "std-widgets.slint";
import { Theme } from "../styles.slint";

export component DocumentEditor inherits Rectangle {
    background: Theme.editor-bg;
    border-color: Theme.border;
    border-width: 2px;

    in-out property <string> document-title;
    in-out property <string> document-content;
    callback update-writing-stats();

    VerticalBox {
        padding: 10px;

        // Document Title Bar
        Rectangle {
            background: Theme.title-bg;
            height: 40px;
            border-color: Theme.border;
            border-width: 1px;
            HorizontalBox {
                padding: 8px;
                spacing: 8px;
                Text {
                    text: "ðŸ“„ Document Editor";
                    color: Theme.text-primary;
                    font-size: 14px;
                    font-weight: 600;
                }

                LineEdit {
                    text <=> root.document-title;
                }
            }
        }

        // Main Document Content Area
        Rectangle {
            background: Theme.editor-bg;
            border-color: Theme.border;
            border-width: 1px;
            ScrollView {
                width: parent.width;
                height: 450px;
                TextEdit {
                    text <=> root.document-content;
                    font-size: 16px;
                    wrap: word-wrap;
                    placeholder-text: "ðŸ“ Start writing your document...\n\nThis is a professional word processor with full database integration.\nUse the menus above to access advanced features.\n\nðŸ”§ All writing tools are database-connected and can open as standalone windows.";
                    edited => {
                        root.update-writing-stats();
                    }
                }
            }
        }
    }
}
