import { HorizontalBox } from "std-widgets.slint";
import { Theme } from "../styles.slint";
import { ToolbarButton } from "toolbar_button.slint";

export component MenuBar inherits Rectangle {
    background: Theme.menu-bg;
    height: 30px;
    border-color: Theme.border;
    border-width: 1px;

    in-out property <bool> show-file-dropdown;
    in-out property <bool> show-projects-dropdown;
    in-out property <bool> show-edit-dropdown;
    in-out property <bool> show-tools-dropdown;
    in-out property <bool> show-view-dropdown;
    in-out property <bool> show-help-dropdown;
    in-out property <string> status-message;

    HorizontalBox {
        padding: 4px;
        spacing: 2px;

        ToolbarButton {
            text: "File";
            width: 50px;
            height: 24px;
            clicked => {
                root.show-file-dropdown = !root.show-file-dropdown;
                root.show-projects-dropdown = false;
                root.show-tools-dropdown = false;
                root.show-view-dropdown = false;
                root.show-help-dropdown = false;
                root.status-message = "File menu opened";
            }
        }

        ToolbarButton {
            text: "Projects";
            width: 70px;
            height: 24px;
            clicked => {
                root.show-projects-dropdown = !root.show-projects-dropdown;
                root.show-file-dropdown = false;
                root.show-tools-dropdown = false;
                root.show-view-dropdown = false;
                root.show-help-dropdown = false;
                root.status-message = "Projects menu opened";
            }
        }

        ToolbarButton {
            text: "Edit";
            width: 50px;
            height: 24px;
            clicked => {
                root.show-edit-dropdown = !root.show-edit-dropdown;
                root.show-file-dropdown = false;
                root.show-projects-dropdown = false;
                root.show-tools-dropdown = false;
                root.show-view-dropdown = false;
                root.show-help-dropdown = false;
                root.status-message = "Edit menu opened";
            }
        }

        ToolbarButton {
            text: "Tools";
            width: 50px;
            height: 24px;
            clicked => {
                root.show-tools-dropdown = !root.show-tools-dropdown;
                root.show-file-dropdown = false;
                root.show-projects-dropdown = false;
                root.show-edit-dropdown = false;
                root.show-view-dropdown = false;
                root.show-help-dropdown = false;
                root.status-message = "Tools menu opened";
            }
        }

        ToolbarButton {
            text: "View";
            width: 50px;
            height: 24px;
            clicked => {
                root.show-view-dropdown = !root.show-view-dropdown;
                root.show-file-dropdown = false;
                root.show-projects-dropdown = false;
                root.show-tools-dropdown = false;
                root.show-help-dropdown = false;
                root.status-message = "View menu opened";
            }
        }

        ToolbarButton {
            text: "Help";
            width: 50px;
            height: 24px;
            clicked => {
                root.show-help-dropdown = !root.show-help-dropdown;
                root.show-file-dropdown = false;
                root.show-projects-dropdown = false;
                root.show-tools-dropdown = false;
                root.show-view-dropdown = false;
                root.status-message = "Help menu opened";
            }
        }
    }
}
